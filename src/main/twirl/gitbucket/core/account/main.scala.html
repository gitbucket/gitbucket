@(account: gitbucket.core.model.Account, groupNames: List[String], active: String, extraMailAddresses: List[String],
  isGroupManager: Boolean = false)(body: Html)(implicit context: gitbucket.core.controller.Context)
@import gitbucket.core.view.helpers
@gitbucket.core.html.main(account.userName){
  <aside class="main-sidebar @helpers.sidebarSkin() elevation-4">
    @gitbucket.core.helper.html.logo()
    <div class="sidebar">
      <div class="user-panel mt-3 pb-3 mb-3 d-flex">
        <div class="image">
          @helpers.avatar(account.userName, 30)
        </div>
        <div class="info">
          <a href="#">@account.userName</a>
        </div>
      </div><!-- /.user-panel -->
      <nav class="tm-2">
        <ul class="nav nav-pills nav-sidebar" data-widget="treeview" role="menu" data-accordion="false">
          <li class="nav-header">
            <div>
              <div class="font-weight-bold">@account.fullName</div>
              @account.description.map { description =>
              <div class="text-wrap mt-2">@description</div>
              }
              <div class="small mt-1">
                @account.url.map { url =>
                <div class="mt-1 text-truncate">
                  @if(url.startsWith("http://") || url.startsWith("https://")){
                  <a href="@url"><i class="octicon octicon-home"></i><span> @url</span></a>
                  } else {
                  <a href="#"><i class="octicon octicon-home"></i><span> @url</span></a>
                  }
                </div>
                }
                @if(context.settings.showMailAddress){
                <div class="mt-1 text-truncate">
                  <a href="mailto:@account.mailAddress"><i class="octicon octicon-mail"></i><span> @account.mailAddress</span></a>
                </div>
                @extraMailAddresses.map { mail =>
                <div class="mt-1 text-truncate">
                  <a href="mailto:@mail"><i class="octicon octicon-mail"></i><span> @mail</span></a>
                </div>
                }
                }
                <div class="mt-1">
                  <i class="octicon octicon-clock"></i><span> Joined on @helpers.date(account.registeredDate)</span>
                </div>
              </div>
            </div>
          </li>
        </ul>
        <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">
          @if(groupNames.nonEmpty){
          <li class="nav-header">Groups</li>
          @groupNames.map { groupName =>
          <li class="nav-item">
            <a class="nav-link" href="@helpers.url(groupName)">
              <i class="nav-icon">@helpers.avatar(groupName, 20, tooltip = true)</i>
              <p>@groupName</p>
            </a>
          </li>
          }
          }
        </ul>
      </nav>
    </div>
  </aside>
  <div class="content-wrapper">
    <div class="content-header">
      <div class="container-fluid">
        <div class="row mb-2">
          <div class="col-sm-6">
            <h1 class="m-0 text-dark"></h1>
          </div>
        </div>
      </div>
    </div>
    <div class="content body">
      <div class="container">
        <div class="row">
          <div class="col">
            <div class="card card-primary card-outline card-outline-tabs">
              <div class="card-header p-0 border-bottom-0">
                <ul class="nav nav-tabs">
                  <li class="nav-item"><a class="nav-link@if(active == "repositories"){ active}" href="@helpers.url(account.userName)?tab=repositories">Repositories</a></li>
                  @if(account.isGroupAccount){
                  <li class="nav-item"><a class="nav-link@if(active == "members"){ active}" href="@helpers.url(account.userName)?tab=members">Members</a></li>
                  } else {
                  <li class="nav-item"><a class="nav-link@if(active == "activity"){ active}" href="@helpers.url(account.userName)?tab=activity">Public activity</a></li>
                  }
                  @*
                  <li class="nav-item"><a class="nav-link@if(active == "webhooks"){ active}" href="@helpers.url(account.userName)?tab=webhooks">Webhooks</a></li>
                  *@
                  @gitbucket.core.plugin.PluginRegistry().getProfileTabs.map { tab =>
                  @tab(account, context).map { link =>
                  <li class="nav-item"><a class="nav-link@if(active == link.id){ active}" href="@context.path/@link.path">@link.label</a></li>
                  }
                  }
                  <li class="nav-item">
                      @if(context.loginAccount.isDefined && context.loginAccount.get.userName == account.userName){
                      <a class="nav-link" href="@helpers.url(account.userName)/_edit" class="btn btn-default btn-sm">Edit your profile</a>
                      }
                      @if(context.loginAccount.isDefined && account.isGroupAccount && isGroupManager){
                      <a class="nav-link" href="@helpers.url(account.userName)/_editgroup" class="btn btn-default btn-sm">Edit group</a>
                      }
                  </li>
                </ul><!-- /.nav-tabs -->
              </div><!-- /.card-header -->
              @body
            </div><!-- /.card -->
          </div><!-- /.col -->
        </div><!-- /.row -->
      </div><!-- /.container -->
    </div>
  </div>
}
