@(account: gitbucket.core.model.Account, groupNames: List[String], active: String, extraMailAddresses: List[String],
  isGroupManager: Boolean = false)(body: Html)(implicit context: gitbucket.core.controller.Context)
@import gitbucket.core.view.helpers
@gitbucket.core.html.main(account.userName){
  <aside class="main-sidebar sidebar-dark-primary elevation-4">
    @gitbucket.core.helper.html.logo()
    <div class="sidebar">
      <div class="user-panel mt-3 pb-3 mb-3 d-flex">
        <div class="image">
          @helpers.avatar(account.userName, 30)
        </div>
        <div class="info">
          <a href="#">@account.userName</a>
        </div>
      </div><!-- /.user-panel -->
      <nav class="tm-2">
        <ul class="nav nav-pills nav-sidebar" data-widget="treeview" role="menu" data-accordion="false">
          <li class="nav-header">
            <div>
              <div class="font-weight-bold">@account.fullName</div>
              @account.description.map { description =>
              <div class="text-wrap mt-2">@description</div>
              }
              <div class="small mt-1">
                @account.url.map { url =>
                <div class="mt-1 text-truncate">
                  @if(url.startsWith("http://") || url.startsWith("https://")){
                  <a href="@url"><i class="octicon octicon-home"></i><span> @url</span></a>
                  } else {
                  <a href="#"><i class="octicon octicon-home"></i><span> @url</span></a>
                  }
                </div>
                }
                @if(context.settings.showMailAddress){
                <div class="mt-1 text-truncate">
                  <a href="mailto:@account.mailAddress"><i class="octicon octicon-mail"></i><span> @account.mailAddress</span></a>
                </div>
                @extraMailAddresses.map { mail =>
                <div class="mt-1 text-truncate">
                  <a href="mailto:@mail"><i class="octicon octicon-mail"></i><span> @mail</span></a>
                </div>
                }
                }
                <div class="mt-1">
                  <i class="octicon octicon-clock"></i><span> Joined on @helpers.date(account.registeredDate)</span>
                </div>
              </div>
            </div>
          </li>
        </ul>
        <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">
          @if(groupNames.nonEmpty){
          <li class="nav-header">Groups</li>
          @groupNames.map { groupName =>
          <li class="nav-item">
            <a class="nav-link" href="@helpers.url(groupName)">
              <i class="nav-icon">@helpers.avatar(groupName, 20, tooltip = true)</i>
              <p>@groupName</p>
            </a>
          </li>
          }
          }
        </ul>
      </nav>
    </div>
  </aside>
  <div class="content-wrapper">
    <div class="content body">
      <ul class="nav nav-tabs" style="margin-bottom: 5px;">
        <li@if(active == "repositories"){ class="active"}><a href="@helpers.url(account.userName)?tab=repositories">Repositories</a></li>
        @if(account.isGroupAccount){
          <li@if(active == "members"){ class="active"}><a href="@helpers.url(account.userName)?tab=members">Members</a></li>
        } else {
          <li@if(active == "activity"){ class="active"}><a href="@helpers.url(account.userName)?tab=activity">Public activity</a></li>
        }
        @*
        <li@if(active == "webhooks"){ class="active"}><a href="@helpers.url(account.userName)?tab=webhooks">Webhooks</a></li>
        *@
        @gitbucket.core.plugin.PluginRegistry().getProfileTabs.map { tab =>
          @tab(account, context).map { link =>
            <li@if(active == link.id){ class="active"}><a href="@context.path/@link.path">@link.label</a></li>
          }
        }
        @if(context.loginAccount.isDefined && context.loginAccount.get.userName == account.userName){
          <li class="pull-right">
            <div class="button-group">
              <a href="@helpers.url(account.userName)/_edit" class="btn btn-default">Edit your profile</a>
            </div>
          </li>
        }
        @if(context.loginAccount.isDefined && account.isGroupAccount && isGroupManager){
          <li class="pull-right">
            <div class="button-group">
              <a href="@helpers.url(account.userName)/_editgroup" class="btn btn-default">Edit group</a>
            </div>
          </li>
        }
      </ul>
      @body
    </div>
  </div>
}
