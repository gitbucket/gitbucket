@(recentRepositories: List[gitbucket.core.service.RepositoryService.RepositoryInfo])(body: Html)(implicit context: gitbucket.core.controller.Context)
@import gitbucket.core.view.helpers
<aside class="main-sidebar sidebar-dark-primary elevation-4">
  @gitbucket.core.helper.html.logo()
  <div class="sidebar">
    <nav class="mt-2">
      <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-acording="false">
        <li class="nav-header">
          <span>Recent updated repositories</span>
          <form class="sidebar-form mt-2">
            <div class="input-group">
              <input type="text" id="filter-box" class="form-control form-control-sm form-control-sidebar" placeholder="Find repository"/>
            </div>
          </form>
        </li>
        @if(recentRepositories.isEmpty){
        <li class="nav-item">No repositories</li>
        } else {
      </ul>
      <ul class="nav nav-pills nav-sidebar flex-column">
        @recentRepositories.zipWithIndex.map { case (repository, i) =>
        <li class="nav-item">
          <a class="nav-link" href="@helpers.url(repository)">@gitbucket.core.helper.html.repositoryicon(repository, false) <p>@repository.owner/<span class="strong">@repository.name</span></p></a>
        </li>
        }
        }
      </ul>
    </nav>
  </div>
</aside>

<div class="content-wrapper">
  @body
</div>
<script>
$(function(){
  $('#filter-box').keyup(function(){
    var inputVal = $('#filter-box').val();
    $.each($('li.repo-link a'), function(index, elem) {
      if ( !inputVal || !elem.text.trim() || elem.text.trim().toLowerCase().indexOf(inputVal.toLowerCase()) >= 0 ) {
        $(elem).parent().show();
      } else {
        $(elem).parent().hide();
      }
    });
  });
  $('form.sidebar-form').submit(function () {
    return false;
  });
});
</script>
