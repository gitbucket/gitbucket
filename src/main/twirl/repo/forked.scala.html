@(members: service.RepositoryService.RepositoryTreeNode,
  repository: service.RepositoryService.RepositoryInfo)(implicit context: app.Context)
@import context._
@import view.helpers._
@html.main(s"${repository.owner}/${repository.name}", Some(repository)) {
  <ul class="nav nav-tabs">
    <li class="active"><a href="@url(repository)/network/members">Members</a></li>
  </ul>
  <h3>Members of the @repository.name Network</h3>
  <ul>
    @renderTree(members)
  </ul>
}

@renderTree(node: service.RepositoryService.RepositoryTreeNode) = {
  <li>
    <div style="font-size: 120%; margin-bottom: 8px;">
      @avatar(node.owner, 20) <a href="@url(node.owner)">@node.owner</a> / <a href="@path/@node.owner/@node.name">@node.name</a>
    </div>
    @if(node.children.nonEmpty){
      <ul>
        @node.children.map { child =>
          @renderTree(child)
        }
      </ul>
    }
  </li>
}