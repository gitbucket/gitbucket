@(branch: String,
  repository: service.RepositoryService.RepositoryInfo,
  pathList: List[String],
  latestCommit: util.JGitUtil.CommitInfo,
  files: List[util.JGitUtil.FileInfo],
  readme: Option[(util.JGitUtil.FileInfo, String)])(implicit context: app.Context)
@import context._
@import view.helpers._
@html.main(s"${repository.owner}/${repository.name}", Some(repository)) {
  @html.header("code", repository)
  @tab(branch, repository, "files")
  <div class="head">
    <div class="pull-right">
      @defining(repository.commitCount){ commitCount =>
        <a href="@url(repository)/commits/@encodeRefName(branch)">@if(commitCount > 10000){ @commitCount+ } else { @commitCount } @plural(commitCount, "commit")</a>&nbsp;
      }
    </div>
    <a href="@url(repository)/tree/@encodeRefName(branch)">@repository.name</a> /
    @pathList.zipWithIndex.map { case (section, i) =>
      <a href="@url(repository)/tree/@encodeRefName(branch)/@pathList.take(i + 1).mkString("/")">@section</a> /
    }
  </div>
  <div class="box">
  @repo.html.file_list(branch, repository, pathList, latestCommit, files)
  </div>
  
  @readme.map { case(file, content) =>
  <div id="readme" class="box">
    <div class="box-header">@file.name</div>
    <div class="box-content markdown-body">@markdown(content, repository, false, false)</div>
  </div>
  }
}
